"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@emotion/styled"),t=require("react");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r,l,a,o,u,i,d,f,c,s,m,b,p,E,g,h,w=n(e),v=n(t);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,l,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){u=!0,l=e}finally{try{o||null==n.return||n.return()}finally{if(u)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=w.default.div(r||(r=j(["\n  width: 100%;\n  height: fit-content;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  padding: 5px;\n"]))),I=w.default.button(l||(l=j(["\n  background-color: #3880ff8f;\n  padding: 7px;\n  border-radius: 4px;\n"]))),S=w.default.table(a||(a=j(["\n  border: solid;\n  border-width: thin;\n  width: 100%;\n  height: 100%;\n"]))),L=w.default.th(o||(o=j(["\n  border: solid;\n  border-width: thin;\n"]))),M=w.default.td(u||(u=j(["\n  border: solid;\n  border-width: thin;\n  text-align: center;\n"]))),P=w.default.input(i||(i=j(["\n  background-color: #f0f8ff;\n  border: none;\n  width: 100%;\n  height: 100%;\n"]))),D=w.default.button(d||(d=j(["\n  background-color: transparent;\n  color: #3880ff;\n"]))),A=w.default.svg(f||(f=j(["\n  color: green;\n  width: 20px;\n  margin-top: 3px;\n  margin-right: 3px;\n  cursor: pointer;\n"]))),N=w.default.button(c||(c=j(["\n  background-color: transparent;\n  color: #3880ff;\n"]))),R=w.default.svg(s||(s=j(["\n  margin-top: 3px;\n  width: 20px;\n  color: red;\n  cursor: pointer;\n"]))),B=w.default.button(m||(m=j(["\n  background-color: transparent;\n  color: ",";\n  cursor: ",";\n"])),(function(e){return e.enable?"#bfbfbf":"#3880ff"}),(function(e){return e.enable?"default":"pointer"})),W=w.default.svg(b||(b=j(["\n  width: 20px;\n  color: ",";\n  cursor: ",";\n  margin-right: 3px;\n  margin-top: 3px;\n"])),(function(e){return e.enable?"#bfbfbf":"blue"}),(function(e){return e.enable?"default":"pointer"})),z=w.default.button(p||(p=j(["\n  background-color: transparent;\n  color: ",";\n  cursor: ",";\n"])),(function(e){return e.enable?"#bfbfbf":"red"}),(function(e){return e.enable?"default":"pointer"})),H=w.default.svg(E||(E=j(["\n  width: 20px;\n  color: ",";\n  cursor: ",";\n  margin-right: 3px;\n  margin-top: 3px;\n"])),(function(e){return e.enable?"#bfbfbf":"red"}),(function(e){return e.enable?"default":"pointer"})),V=w.default.button(g||(g=j(["\n  background-color: transparent;\n  color: ",";\n  cursor: ",";\n"])),(function(e){return e.enable?"#bfbfbf":"#00a900"}),(function(e){return e.enable?"default":"pointer"})),q=w.default.svg(h||(h=j(["\n  width: 20px;\n  color: ",";\n  cursor: ",";\n  margin-right: 3px;\n  margin-top: 3px;\n"])),(function(e){return e.enable?"#bfbfbf":"green"}),(function(e){return e.enable?"default":"pointer"})),T={};exports.TableComp=function(e){var n=e.operations,r=e.columns,l=e.dataSource,a=e.onDataChange,o=e.enableDeleteRow,u=e.enableInsertRow,i=e.enableAddRow,d=e.enableEditRow,f=e.enableIcons;n&&(o=!0,u=!0,i=!0,d=!0),i&&(d=!0,o=!0),(o||u||i||d)&&(n=!0),r.map((function(e){T=k(k({},T),{},y({},e.dataIndex,""))}));var c=C(t.useState({isEditEnabled:!1,rowIndex:null}),2),s=c[0],m=c[1],b=C(t.useState(l.length),2),p=b[0],E=b[1],g=C(t.useState(T),2),h=g[0],w=g[1],x=C(t.useState(l),2),j=x[0],O=x[1],_=function(e,t,n){return n?v.default.createElement(M,null,Object.keys(e).map((function(e){return v.default.createElement(v.default.Fragment,null,e===t.dataIndex?v.default.createElement(v.default.Fragment,null,v.default.createElement(P,{value:h[e],onChange:function(t){return w(k(k({},h),{},y({},e,t.target.value)))}})):v.default.createElement(v.default.Fragment,null))}))):v.default.createElement(M,null,Object.keys(e).map((function(n){return v.default.createElement(v.default.Fragment,null,n===t.dataIndex?v.default.createElement(v.default.Fragment,null,e[n]):v.default.createElement(v.default.Fragment,null))})))},U=function(e){w(j[e]),m({isEditEnabled:!0,rowIndex:e})},$=function(e){if(e.preventDefault(),window.confirm("Confirm Save Edited Fields ?")){var t=j;t[s.rowIndex]=h,O(t),a(j),w(T),m({isEditEnabled:!1,rowIndex:null})}},G=function(){window.confirm("Confirm Cancel Editing fileds ?")&&(w(T),m({isEditEnabled:!1,rowIndex:null}))},J=function(e){if(console.log("delete index : ",e),window.confirm("Confirm Delete Row ?")){var t=j;t.splice(e,1),O(t),E(j.length),a(j)}},K=function(e,t){if("after"===t){var n=j;n.splice(e+1,0,T),O(n),E(j.length),U(e+1)}else if("before"===t){var r=j;r.splice(e,0,T),O(r),E(j.length),U(e)}};return v.default.createElement("form",{onSubmit:$},p&&v.default.createElement(S,null,v.default.createElement("thead",null,v.default.createElement("tr",null,r.map((function(e){return v.default.createElement(L,{key:e.dataIndex},e.name)})),n?v.default.createElement(L,null,"operationss"):v.default.createElement(v.default.Fragment,null))),v.default.createElement("tbody",null,j.map((function(e,t){return s.isEditEnabled&&s.rowIndex===t?v.default.createElement("tr",null,r.map((function(t){return _(e,t,!0)})),v.default.createElement(M,null,f?v.default.createElement(A,{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"{2}",onClick:$},v.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})):v.default.createElement(D,{type:"submit"},"Save"),v.default.createElement("span",null," "),f?v.default.createElement(R,{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"{2}",onClick:function(){return G()}},v.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})):v.default.createElement(N,{type:"button",onClick:function(){return G()}},"Cancel"))):v.default.createElement("tr",{id:"colNum"+t},r.map((function(t){return _(e,t,!1)})),n?v.default.createElement(M,null,d&&v.default.createElement(v.default.Fragment,null,f?v.default.createElement(W,{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"{2}",enable:s.isEditEnabled,onClick:function(){s.isEditEnabled?v.default.Fragment:U(t)}},v.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})):v.default.createElement(B,{type:"button",enable:s.isEditEnabled,onClick:function(){s.isEditEnabled?v.default.Fragment:U(t)}},"Edit")),u&&v.default.createElement(v.default.Fragment,null,f?v.default.createElement(v.default.Fragment,null,v.default.createElement(q,{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"{2}",enable:s.isEditEnabled,onClick:function(){s.isEditEnabled?v.default.Fragment:K(t,"after")}},v.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})),v.default.createElement(q,{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"{2}",enable:s.isEditEnabled,onClick:function(){s.isEditEnabled?v.default.Fragment:K(t,"before")}},v.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"}))):v.default.createElement(V,{type:"button",enable:s.isEditEnabled,onClick:function(){s.isEditEnabled?v.default.Fragment:K(t,"after")}},"Insert Row")),o&&v.default.createElement(v.default.Fragment,null,f?v.default.createElement(H,{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"{2}",enable:s.isEditEnabled,onClick:function(){s.isEditEnabled?v.default.Fragment:J(t)}},v.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})):v.default.createElement(z,{type:"button",enable:s.isEditEnabled,onClick:function(){s.isEditEnabled?v.default.Fragment:J(t)}},"Delete"))):v.default.createElement(v.default.Fragment,null))})))),i&&v.default.createElement(F,null,v.default.createElement(I,{type:"button",onClick:function(){return(e=j).push(T),O(e),m({isEditEnabled:!0,rowIndex:j.length-1}),void E(j.length);var e}},"add Row")))};
